# MCP SQL Server Connector: Claude Desktop Integration

Documenta√ß√£o t√©cnica para a integra√ß√£o do Claude Desktop com inst√¢ncias Microsoft SQL Server (RTM Enterprise Developer Edition e superiores) atrav√©s do Model Context Protocol (MCP).

## Sum√°rio

- [Funcionalidades](#Funcionalidades)
- [Arquitetura](#Arquitetura)
- [Instala√ß√£o](#instala√ß√£o)
- [Configura√ß√£o](#Configura√ß√£o)
- [Limita√ß√µes](#Limita√ß√µes)
- [Contribui√ß√£o](#Contribui√ß√£o)
- [Licen√ßa](#Licen√ßa)
- [Contato](#Contato)

## Funcionalidades

* **Manipula√ß√£o de Dados (DML)**: Execu√ß√£o de instru√ß√µes SELECT, JOINs complexos, INSERT, UPDATE, DELETE e MERGE com suporte a transa√ß√µes.
* **Defini√ß√£o de Estrutura (DDL)**: Capacidade de criar, alterar e remover tabelas, views, √≠ndices, stored procedures e triggers.
* **An√°lise de Metadados**: Consulta ao `INFORMATION_SCHEMA`, verifica√ß√£o de estat√≠sticas e an√°lise de planos de execu√ß√£o via `SET STATISTICS`.
* **Seguran√ßa**: Valida√ß√£o de permiss√µes via roles do sistema como `db_owner`, `db_ddladmin`, `db_datareader` e `db_datawriter`.

## Arquitetura

A integra√ß√£o utiliza o protocolo MCP para permitir que o modelo de IA execute comandos SQL em tempo real atrav√©s de um servidor local Node.js.

* **Protocolo**: Model Context Protocol (MCP).
* **Runtime**: Node.js v18 ou superior.
* **Conectividade**: Protocolo TCP/IP via porta 1433.
* **Sistemas Operacionais**: Compatibilidade verificada em Windows 10+ e macOS 11+.

## Instala√ß√£o

### Pr√©-requisitos

* Node.js v18 ou superior instalado.
* Inst√¢ncia SQL Server ativa e acess√≠vel (Local, Docker ou Remoto).
* Porta 1433 liberada no firewall do sistema.

### Procedimento

Instale o pacote do servidor globalmente utilizando o gerenciador de pacotes npm:

```bash
npm install -g @modelcontextprotocol/server-mssql

```

## Configura√ß√£o

O arquivo `claude_desktop_config.json` deve ser editado nos seguintes diret√≥rios, dependendo do sistema:

* **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
* **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

### Estrutura do Arquivo

```json
{
  "mcpServers": {
    "mcp-sql-server": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sqlserver"],
      "env": {
        "SQL_CONNECTION_STRING": "SUA_STRING_DE_CONEXAO",
        "TZ": "America/Sao_Paulo"
      }
    }
  }
}

```

## Limita√ß√µes

### Restri√ß√µes de Opera√ß√£o

* **Sistema de Arquivos**: Incompatibilidade com opera√ß√µes que exigem acesso f√≠sico ao disco do servidor, como `BACKUP DATABASE`, `RESTORE` ou `BULK INSERT`.
* **Timeout**: Limite operacional de 15 segundos por requisi√ß√£o.
* **Administra√ß√£o de Sistema**: Opera√ß√µes de configura√ß√£o global (`sp_configure`) e gerenciamento de jobs via SQL Server Agent n√£o s√£o suportadas.

## Contribui√ß√£o

Para propor melhorias ou relatar inconsist√™ncias t√©cnicas, utilize o sistema de issues ou envie um Pull Request seguindo os padr√µes de c√≥digo do projeto.

## Licen√ßa

Este projeto segue os termos de licenciamento padr√£o para conectores MCP. Para detalhes sobre uso e distribui√ß√£o, consulte a licen√ßa no reposit√≥rio oficial.

---
## Contato

**Alexandre**  
üìß alemiti@gmail.com
